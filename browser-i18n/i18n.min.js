var I18n=function(a){for(var b in a){this[b]=a[b]}this.setLocale(this.locale)};I18n.localeCache={};I18n.prototype={defaultLocale:"en",directory:"/locales",extension:".min.json",getLocale:function(){return this.locale},setLocale:function(a){if(!a){a=$("html").attr("lang")}if(!a){a=this.defaultLocale}this.locale=a;if(a in I18n.localeCache){return}else{this.getLocaleFileFromServer()}},getLocaleFileFromServer:function(){localeFile=null;$.ajax({url:this.directory+"/"+this.locale+this.extension,async:false,dataType:"json",success:function(a){localeFile=a}});I18n.localeCache[this.locale]=localeFile},__:function(){var a=I18n.localeCache[this.locale][arguments[0]];if(arguments.length>1){a=vsprintf(a,Array.prototype.slice.call(arguments,1))}return a},__n:function(a,b){var c=I18n.localeCache[this.locale][a];b=parseInt(b,10);if(b===0){c=c.zero}else{c=b>1?c.other:c.one}c=vsprintf(c,[b]);if(arguments.length>2){c=vsprintf(c,Array.prototype.slice.call(arguments,2))}return c}};